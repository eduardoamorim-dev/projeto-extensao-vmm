{% extends 'base.html' %}

{% block title %}Veja Um Mundo Melhor - Inscrição Voluntários | Sicoob Coopacredi{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="min-h-screen flex items-center justify-center text-white text-center px-6" style="background: linear-gradient(135deg, #20A193 0%, #185048 100%);">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-5xl md:text-7xl font-bold mb-6">
            Veja Um <span style="color: #C5D210;">Mundo Melhor</span>
        </h1>
        <p class="text-xl md:text-2xl mb-6 text-gray-100">
            Transforme vidas. Construa o futuro. Seja parte da mudança.
        </p>

        <a href="#formulario" class="inline-block text-white font-bold px-8 py-4 rounded-xl text-lg hover:opacity-90 transition-opacity" style="background-color: #C5D210;">
            Inscreva-se para ser Voluntário
        </a>
    </div>
</section>

<!-- Form Section -->
<section id="formulario" class="bg-gradient-to-br from-gray-50 to-white py-16">
    <div class="max-w-4xl mx-auto px-6">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold mb-4" style="color: #20A193;">
                Faça Sua <span style="color: #C5D210;">Inscrição</span>
            </h2>
            <p class="text-xl text-gray-600">
                Preencha o formulário abaixo e seja parte desta transformação. Vagas limitadas!
            </p>
        </div>

        <!-- Messages Section -->
        {% if messages %}
            <div class="mb-8">
                {% for message in messages %}
                    <div class="mb-4 p-4 rounded-xl {% if message.tags == 'success' %}bg-green-100 border-l-4 border-green-500 text-green-700{% elif message.tags == 'error' %}bg-red-100 border-l-4 border-red-500 text-red-700{% else %}bg-blue-100 border-l-4 border-blue-500 text-blue-700{% endif %}">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                {% if message.tags == 'success' %}
                                    <span class="text-green-500">✅</span>
                                {% elif message.tags == 'error' %}
                                    <span class="text-red-500">❌</span>
                                {% else %}
                                    <span class="text-blue-500">ℹ️</span>
                                {% endif %}
                            </div>
                            <div class="ml-3">
                                <p class="font-medium">{{ message }}</p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        <div class="bg-white rounded-3xl shadow-xl p-8 md:p-12">
            <form method="POST" class="space-y-6">
                {% csrf_token %}
                
                <!-- Nome e Email -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Nome Completo <span class="text-red-500">*</span>
                        </label>
                        <input type="text" name="nome_completo" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;"
                                placeholder="Digite seu nome completo"
                                value="{{ form_data.nome_completo|default:'' }}">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Email Corporativo <span class="text-red-500">*</span>
                        </label>
                        <input type="email" name="email_corporativo" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;"
                                placeholder="exemplo@sicoob.com.br"
                                value="{{ form_data.email_corporativo|default:'' }}">
                        <small class="text-gray-500 text-sm">Deve ser um email @sicoob.com.br</small>
                    </div>
                </div>

                <!-- CPF e Telefone -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            CPF <span class="text-red-500">*</span>
                        </label>
                        <input type="text" name="cpf" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;"
                                placeholder="000.000.000-00"
                                maxlength="14"
                                value="{{ form_data.cpf|default:'' }}"
                                onkeyup="formatarCPF(this)">
                        <small class="text-gray-500 text-sm">Formato: 000.000.000-00</small>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Telefone <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" name="telefone" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;"
                                placeholder="(DDD) 99999-9999"
                                maxlength="15"
                                value="{{ form_data.telefone|default:'' }}"
                                onkeyup="formatarTelefone(this)">
                        <small class="text-gray-500 text-sm">Formato: (11) 99999-9999</small>
                    </div>
                </div>

                <!-- Agência e Setor -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Agência <span class="text-red-500">*</span>
                        </label>
                        <select name="agencia" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;">
                            <option value="" disabled {% if not form_data.agencia %}selected{% endif %}>Selecione a agência</option>
                            <option value="001" {% if form_data.agencia == '001' %}selected{% endif %}>001 - Matriz Patrocínio</option>
                            <option value="002" {% if form_data.agencia == '002' %}selected{% endif %}>002 - Agência Uberlândia</option>
                            <option value="003" {% if form_data.agencia == '003' %}selected{% endif %}>003 - Agência Guimarânia</option>
                            <option value="004" {% if form_data.agencia == '004' %}selected{% endif %}>004 - Agência Coromandel</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Setor <span class="text-red-500">*</span>
                        </label>
                        <input type="text" name="setor" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;"
                                placeholder="Digite seu setor"
                                value="{{ form_data.setor|default:'' }}">
                    </div>
                </div>

                <!-- Tamanho da Camiseta -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">
                            Tamanho da Camiseta <span class="text-red-500">*</span>
                        </label>
                        <select name="tamanho_camiseta" required 
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors"
                                style="focus:border-color: #C5D210;">
                            <option value="" disabled {% if not form_data.tamanho_camiseta %}selected{% endif %}>Selecione o tamanho</option>
                            <option value="P" {% if form_data.tamanho_camiseta == 'P' %}selected{% endif %}>P</option>
                            <option value="M" {% if form_data.tamanho_camiseta == 'M' %}selected{% endif %}>M</option>
                            <option value="G" {% if form_data.tamanho_camiseta == 'G' %}selected{% endif %}>G</option>
                            <option value="GG" {% if form_data.tamanho_camiseta == 'GG' %}selected{% endif %}>GG</option>
                            <option value="XG" {% if form_data.tamanho_camiseta == 'XG' %}selected{% endif %}>XG</option>
                            <option value="BL_P" {% if form_data.tamanho_camiseta == 'BL_P' %}selected{% endif %}>Baby Look P</option>
                            <option value="BL_M" {% if form_data.tamanho_camiseta == 'BL_M' %}selected{% endif %}>Baby Look M</option>
                            <option value="BL_G" {% if form_data.tamanho_camiseta == 'BL_G' %}selected{% endif %}>Baby Look G</option>
                            <option value="BL_GG" {% if form_data.tamanho_camiseta == 'BL_GG' %}selected{% endif %}>Baby Look GG</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-center">
                        <div class="text-center text-gray-500">
                            <span class="text-4xl">👕</span>
                            <p class="text-sm mt-2">Camiseta será entregue<br>no dia do evento</p>
                        </div>
                    </div>
                </div>

                <!-- Experiência -->
                <div>
                    <label class="block text-sm font-bold mb-2" style="color: #20A193;">
                        Disponibilidade e Experiências Anteriores
                    </label>
                    <textarea name="experiencia_anterior" rows="4" 
                              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-colors resize-none"
                              style="focus:border-color: #C5D210;"
                              placeholder="Conte sobre sua disponibilidade para o evento e experiências anteriores em voluntariado (opcional)">{{ form_data.experiencia_anterior|default:'' }}</textarea>
                    <small class="text-gray-500 text-sm">Campo opcional - ajuda na organização das atividades</small>
                </div>

                <!-- Submit Button -->
                <div class="text-center pt-6">
                    <button type="submit" 
                            class="text-white px-12 py-4 rounded-xl font-bold text-lg hover:opacity-90 transition-all duration-300 transform hover:scale-105 shadow-lg"
                            style="background: linear-gradient(135deg, #20A193 0%, #75B62F 100%);">
                        Enviar Candidatura 
                    </button>
                </div>

                <!-- Required Fields Note -->
                <div class="text-center pt-4">
                    <small class="text-gray-500"><span class="text-red-500">*</span> Campos obrigatórios</small>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Footer CTA -->
<section class="py-12" style="background: linear-gradient(135deg, #20A193 0%, #75B62F 100%);">
    <div class="max-w-4xl mx-auto text-center px-6">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            Juntos, podemos <span style="color: #C5D210;">transformar o mundo</span>
        </h2>
        <p class="text-xl text-gray-200 mb-6">
            Sua participação é fundamental para o sucesso deste evento que impactará milhares de vidas.
        </p>
        <div class="flex flex-wrap justify-center gap-3 text-sm">
            <span class="bg-white/20 text-white px-4 py-2 rounded-full backdrop-blur-sm">#VejaUmMundoMelhor</span>
            <span class="bg-white/20 text-white px-4 py-2 rounded-full backdrop-blur-sm">#SicoobCoopacredi</span>
            <span class="bg-white/20 text-white px-4 py-2 rounded-full backdrop-blur-sm">#Voluntariado</span>
        </div>
    </div>
</section>

<!-- JavaScript for form formatting -->
<script>
function formatarCPF(input) {
    let value = input.value.replace(/\D/g, '');
    value = value.replace(/(\d{3})(\d)/, '$1.$2');
    value = value.replace(/(\d{3})(\d)/, '$1.$2');
    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
    input.value = value;
}

function formatarTelefone(input) {
    let value = input.value.replace(/\D/g, '');
    if (value.length <= 10) {
        value = value.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3');
    } else {
        value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
    }
    input.value = value;
}

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
</script>
{% endblock %}